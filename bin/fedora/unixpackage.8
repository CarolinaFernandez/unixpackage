.\"                                      Hey, EMACS: -*- nroff -*-
.\" (C) Copyright 2015 Carolina Fernandez <cfermart@gmail.com>,
.\"
.\" First parameter, NAME, should be all caps
.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
.\" other parameters are allowed: see man(7), man(1)

.TH UNIXPACKAGE 8 "August  16, 2015"
.\" Please adjust this date whenever revising the manpage.
.\"
.\" Some roff macros, for reference:
.\" .nh        disable hyphenation
.\" .hy        enable hyphenation
.\" .ad l      left justify
.\" .ad b      justify to both left and right margins
.\" .nf        disable filling
.\" .fi        enable filling
.\" .br        insert line break
.\" .sp <n>    insert n+1 empty lines
.\" for manpage-specific macros, see man(7)

.SH NAME
unixpackage, upkg \- create a unix package

.SH SYNOPSIS
.B unixpackage
.RI [ options ] " files" ...


.SH DESCRIPTION
The 
.IR unixpackage
command allows to generate a UNIX package easily either through both command-line and graphical interfaces.

The command can be used either in 
.IR GUI
and
.IR batch
modes. The former triggers a graphical interface that allows to input a set of values through a number of steps and forms and choose between the 
.IR simple
,
.IR manual
and
.IR advanced
modes.
The workflow is as follows:
.IP \fB1.\fP 3
Upon loading the program, the preferences file is initially loaded and then the arguments passed by console are parsed. Arguments passed to the program have higher priority than previous preferences.
.IP \fB2.\fP 3
Program determines the active operation mode, i.e. whether it is being run in batch mode or using the graphical interface. If the program is running as batch, the environment is initialised in the first step. Otherwise, the graphical interface is launched and the steps of the initialisation are distributed among the related steps.
.IP \fB3.\fP 3
Input data -either by console or GUI- is validated against a given set of parameters. If something fails, exit the program with error and do not save current input data in the configuration file located at the caller's personal home.
.IP \fB4.\fP 3
If parse and validaton steps were successful, load the local steps.
.IP \fB5.\fP 3
In the end, check that temporal files are copied and execute the packaging script. Show output via the coonsole for detailed data and final location of the package.


.SH OPERATION MODES
The \fIsimple\fP mode generates the files automatically and there is no further control over them. The \fImanual\fP mode extends the simple mode by allowing the user to modify the package files before the packaging takes place. The \fIadvanced\fP mode expects some knowledge about the format of the packaging files, as this mode requires template files to be passed for the packaging. \fINote\fP that the batch mode works only in the advanced mode.


.SH OPTIONS
\fBMain operation modes.\fP Exclusive, only one must be chosen.
.TP
.B \-b, \-\-batch
Run process in background.
.TP
.B \-h, \-\-help
Print help information.
.TP
.B \-v, \-\-version
Print version.

.TP
\fBRequired arguments.\fP Needed when in batch mode.
.TP
\fB\-n, \-\-name\fP \fIname\fP
Full name of the package maintainer.
.TP
\fB\-e, \-\-email\fP \fIaddress\fP
E-mail address of the package maintainer.
.TP
\fB\-C, \-\-class\fP \fIclass\fP
Package class (noarch|athlon|geode|i386|i486|i586|i686).
.TP
\fB\-c, \-\-copyright\fP \fItype\fP
.br
Use type of licence in copyright file (Glide|ASL 1.1|Abstyles|AFL|AMPAS BSD|Adobe|APAFML|MIT|AGPLv1|AGPLv3|AGPLv3+|AGPLv3 with exceptions|Afmparse|ADSL|AMDPLPA|ASL 1.0|ASL 1.1|ASL 2.0|App-s2p|AML|APSL 2.0|Artistic clarified|Artistic 2.0|ARL|AAL|Bahyph|Barr|Beerware|BeOpen|Bibtex|BitTorrent|Boost|Borceux|BSD with advertising|BSD with attribution|BSD|BSD Protection|CATOSL|CeCILL|CeCILL-B|CeCILL-C|Netscape|MIT|CNRI|CDDL|CPL|Condor|Copyright only|CPAL|BSD|GPLv2+|LGPLv2+|CC0|Crossword|Crystal Stacker|MPLv1.1|Cube|diffmark|WTFPL|DOC|DMIT|Dotseqn|DSDP|dvipdfm|EPL|eCos|ECL 1.0|ECL 2.0|eGenix|EFL 2.0|MIT with advertising|Entessa|EPICS|ERPL|EU Datagrid|EUPL 1.1|Eurosym|GPLv2 with exceptions|Fair|LGPLv2 with exceptions|MPLv1.0|FTL|FSFUL|FSFULLR|Giftware|GL2PS|Glulxe|GPL+|GPL+ with exceptions|GPLv1|GPLv2|GPLv2+ with exceptions|GPLv3|GPLv3 with exceptions|GPLv3+|GPLv3+ with exceptions|LGPLv2|LGPLv2+ with exceptions|LGPLv3|LGPLv3 with exceptions|LGPLv3+gnuplot|HaskellReport|HSRL|IBM|iMatix|ImageMagick|lmlib2|IJG|Intel ACPI|Interbase|ISC|Jabber|Jasper|JPython|Julius|Knuth|LPPL|Latex2e|LBNL BSD|LOSLA|Leptonica|Lhcyr|libtiff|LLGPL|Logica|LPL|MakeIndex|MTLL|mecab-ipadic|MS-PL|MS-RL|midnight|MirOS|MITNFA|mod_macro|Motosoto|MPLv1.0|MPLv1.1|MPLv2.0|Mup|Naumen|NCSA|NetCDF|NGPL|NOSL|Newmat|Newsletr|Nmap|Nokia|NLPL|Noweb|MIT with advertising|OpenLDAP|OML|OpenPBS|OSL 1.0|OSL 1.1|OSL 2.0|OSL 2.1|OSL 3.0|OpenSSL|OReilly|Par|GPL+ or Artistic|GPLv2 or Artistic|GPLv2+ or Artistic|LGPLv2+ or Artistic|Phorum|PHP|PlainTeX|Plexus|PostgreSQL|psfrag|psutils|Public Domain|Python|Qhull|QPL|Rdisc|RPSL|REX|RiceBSD|Romio|Rsfs|Ruby|Saxpath|Sequence|SCEA|SWL|STMPL|SCRIP|Sendmail|Sleepycat|SLIB|softSurfer|SNIA|SISSL|SPL|TCL|Teeworlds|TTWL|TPL|Threeparttable|TPDL|TMate|Tolua|TORQUEv1.1|TGPPL|TOSL|UCD|Unicode|Unlicense|Vim|VNLSL|VOSTROM|VSL|W3C|Webmin|Wsuipa|wxWidgets|xinetd|Xerox|xpp|XSkat|YPLv1.1|Zed|Zend|ZPLv1.0|ZPLv2.0|ZPLv2.1|zlib|zlib with acknowledgement).
.TP
\fB\-p, \-\-package\-name\fP \fIname\fP
Package name (better use lowercase, digits, dashes).
.TP
\fB\-V, \-\-package\-version\fP \fIversion\fP
Version of the package.


.TP
\fBOptional arguments.\fP Provide extra information or operations.
.TP
\fB\-d, \-\-description\-short\fP \fIshort_description\fP
Description of the package (up to 60 characters).
.TP
\fB\-D, \-\-description\-long\fP \fIextended_description\fP
Detailed description of the package.
.TP
\fB\-g, \-\-group\fP \fIgroup\fP
Group to which the package belongs (Amusements/Games|Amusements/Graphics|Applications/Archiving|Applications/Communications|Applications/Databases|Applications/Editors|Applications/Emulators|Applications/Engineering|Applications/File|Applications/Internet|Applications/Multimedia|Applications/Productivity|Applications/Publishing|Applications/System|Applications/Text|Development/Debuggers|Development/Languages|Development/Libraries|Development/System|Development/Tools|Documentation|System Environment/Base|System Environment/Daemons|System Environment/Kernel|System Environment/Libraries|System Environment/Shells|User Interface/Desktops|User Interface/X|User Interface/X Hardware Support).
.TP
\fB\-w, \-\-website\fP \fIurl\fP
URL of the software upstream homepage.
.TP
\fB\-f, \-\-files\fP \fIsource1:target1 ... sourceN:targetN\fP
Paths to files that will be added to the package. Used in manual mode.

.SH FILES
.TP
\fI~/.upkg/upkg.properties\fP
Preferences of the last run are stored and loaded from here.
.TP
\fI/usr/lib/unixpackage/unixpackage.jar\fP
Internal library, in charge of returning the expected functionality.
.TP
\fI/usr/sbin/unixpackage\fP, \fI/usr/sbin/upkg\fP
Binary to run the internal libraries.
.TP
\fI/etc/default/unixpackage\fP
Configuration file for this package, if existing will be used by the binary.
.TP
\fI/usr/share/man/man8/unixpackage.8.gz\fP
Man pages for this package, available only to administrators.


.SH EXAMPLES
.TP
When running the application for the first name, every required argument must be passed.
.sp 2
.TP.TP
unixpackage -b -n Jane Doe -e jane.doe@trivi.al -C noarch -c GPLv3 -p trivialpackage -V 0.1-1
.TP
Once the properties files is appropriately set, the simplest batch mode can be used.
.sp 2
.TP.TP
unixpackage -b
.TP
Multiple files can be bundled into the package.
.sp 2
.TP.TP
unixpackage -b -n Jane Doe -e jane.doe@trivi.al -C noarch -c GPLv3 -p trivialpackage -V 0.1-1 -f /root/source1:/opt/target1 /usr/lib/sourceN:/usr/lib/targetN


.SH SEE ALSO
\fBrpmbuild\fP (8).
